---
# yaml-language-server: $schema=https://raw.githubusercontent.com/datreeio/CRDs-catalog/main/external-secrets.io/externalsecret_v1beta1.json
apiVersion: external-secrets.io/v1
kind: ExternalSecret
metadata:
  name: &name limbo
spec:
  secretStoreRef:
    kind: ClusterSecretStore
    name: onepassword-connect
  target:
    name: limbo-secret
    creationPolicy: Owner
    template:
      engineVersion: v2
      data:
        CUSTOM_SERVER_PROPERTIES: |
          max-players=-1
          server-port=25565
          server-ip=0.0.0.0
          bungeecord=false
          velocity-modern=true
          bungee-guard=false
          forwarding-secrets={{ .VELOCITY_FORWARDING_SECRET }}
          level-name=world;spawn.schem
          level-dimension=minecraft:overworld
          allow-flight=false
          allow-chat=true
          default-gamemode=creative
          world-spawn=world;20.5;17;22.5;-90;0
          reduced-debug-info=true
          log-player-ip-addresses=true
          view-distance=6
          ticks-per-second=5
          handshake-verbose=true
          motd={"text":"","extra":[{"text":"Limbo Server!","color":"yellow"}]}
          version=Limbo!
          tab-header=
          tab-footer=
          resource-pack=
          resource-pack-sha1=
          required-resource-pack=false
          resource-pack-prompt={"text":"","extra":[{"text":"Install server resource pack!","color":"yellow"}]}
          enforce-whitelist=false
  dataFrom:
    - extract:
        key: minecraft-proxy
